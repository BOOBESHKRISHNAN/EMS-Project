{"ast":null,"code":"import { UserRole } from '../../../models/user.model';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../services/event.service\";\nimport * as i3 from \"../../../services/feedback.service\";\nimport * as i4 from \"../../../services/auth.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nfunction EventDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading event details...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵtext(3, \"Back to Events\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction EventDetailComponent_div_3_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function EventDetailComponent_div_3_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.bookTicket());\n    });\n    i0.ɵɵtext(1, \" Book Ticket \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function EventDetailComponent_div_3_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.editEvent());\n    });\n    i0.ɵɵtext(1, \" Edit Event \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function EventDetailComponent_div_3_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.deleteEvent());\n    });\n    i0.ɵɵtext(1, \" Delete Event \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"h3\");\n    i0.ɵɵtext(2, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.event.description);\n  }\n}\nfunction EventDetailComponent_div_3_button_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function EventDetailComponent_div_3_button_51_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleFeedbackForm());\n    });\n    i0.ɵɵtext(1, \" Leave Feedback \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_18_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Rating is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, EventDetailComponent_div_3_div_52_div_18_span_1_Template, 2, 0, \"span\", 51);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.rating == null ? null : ctx_r0.rating.errors == null ? null : ctx_r0.rating.errors[\"required\"]);\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_24_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Comment must be less than 500 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, EventDetailComponent_div_3_div_52_div_24_span_1_Template, 2, 0, \"span\", 51);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.comment == null ? null : ctx_r0.comment.errors == null ? null : ctx_r0.comment.errors[\"maxlength\"]);\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.successMessage, \" \");\n  }\n}\nfunction EventDetailComponent_div_3_div_52_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction EventDetailComponent_div_3_div_52_span_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 5);\n  }\n}\nfunction EventDetailComponent_div_3_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"form\", 34);\n    i0.ɵɵlistener(\"ngSubmit\", function EventDetailComponent_div_3_div_52_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.submitFeedback());\n    });\n    i0.ɵɵelementStart(2, \"div\", 35)(3, \"label\", 36);\n    i0.ɵɵtext(4, \"Rating (1-5 stars)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"select\", 37)(6, \"option\", 38);\n    i0.ɵɵtext(7, \"Select a rating\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"option\", 39);\n    i0.ɵɵtext(9, \"1 Star - Poor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"option\", 40);\n    i0.ɵɵtext(11, \"2 Stars - Fair\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 41);\n    i0.ɵɵtext(13, \"3 Stars - Good\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 42);\n    i0.ɵɵtext(15, \"4 Stars - Very Good\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 43);\n    i0.ɵɵtext(17, \"5 Stars - Excellent\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, EventDetailComponent_div_3_div_52_div_18_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 35)(20, \"label\", 44);\n    i0.ɵɵtext(21, \"Comment (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"textarea\", 45);\n    i0.ɵɵtext(23, \"              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, EventDetailComponent_div_3_div_52_div_24_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, EventDetailComponent_div_3_div_52_div_25_Template, 2, 1, \"div\", 46)(26, EventDetailComponent_div_3_div_52_div_26_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementStart(27, \"div\", 47)(28, \"button\", 48);\n    i0.ɵɵtemplate(29, EventDetailComponent_div_3_div_52_span_29_Template, 1, 0, \"span\", 49);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function EventDetailComponent_div_3_div_52_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.toggleFeedbackForm());\n    });\n    i0.ɵɵtext(32, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.feedbackForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"error\", (ctx_r0.rating == null ? null : ctx_r0.rating.invalid) && (ctx_r0.rating == null ? null : ctx_r0.rating.touched));\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.rating == null ? null : ctx_r0.rating.invalid) && (ctx_r0.rating == null ? null : ctx_r0.rating.touched));\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"error\", (ctx_r0.comment == null ? null : ctx_r0.comment.invalid) && (ctx_r0.comment == null ? null : ctx_r0.comment.touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.comment == null ? null : ctx_r0.comment.invalid) && (ctx_r0.comment == null ? null : ctx_r0.comment.touched));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.successMessage);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.isSubmittingFeedback);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isSubmittingFeedback);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.isSubmittingFeedback ? \"Submitting...\" : \"Submit Feedback\", \" \");\n  }\n}\nfunction EventDetailComponent_div_3_div_53_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 62);\n    i0.ɵɵtext(1, \" \\u2605 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r7 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"filled\", star_r7 <= ctx_r0.feedbackSummary.averageRating);\n  }\n}\nfunction EventDetailComponent_div_3_div_53_div_11_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 69);\n    i0.ɵɵtext(1, \" \\u2605 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const star_r8 = ctx.$implicit;\n    const feedback_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵclassProp(\"filled\", star_r8 <= feedback_r9.rating);\n  }\n}\nfunction EventDetailComponent_div_3_div_53_div_11_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 70);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feedback_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(feedback_r9.comment);\n  }\n}\nfunction EventDetailComponent_div_3_div_53_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 63)(1, \"div\", 64)(2, \"div\", 65)(3, \"strong\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 57);\n    i0.ɵɵtemplate(6, EventDetailComponent_div_3_div_53_div_11_span_6_Template, 2, 2, \"span\", 66);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"span\", 67);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, EventDetailComponent_div_3_div_53_div_11_p_9_Template, 2, 1, \"p\", 68);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feedback_r9 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(feedback_r9.userName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getStarArray(feedback_r9.rating));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.formatDate(feedback_r9.createdAt));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", feedback_r9.comment);\n  }\n}\nfunction EventDetailComponent_div_3_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"div\", 54)(2, \"div\", 55)(3, \"span\", 56);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 57);\n    i0.ɵɵtemplate(7, EventDetailComponent_div_3_div_53_span_7_Template, 2, 2, \"span\", 58);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 59);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 60);\n    i0.ɵɵtemplate(11, EventDetailComponent_div_3_div_53_div_11_Template, 10, 4, \"div\", 61);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, ctx_r0.feedbackSummary.averageRating, \"1.1-1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getStarArray(ctx_r0.feedbackSummary.averageRating));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r0.feedbackSummary.totalFeedbacks, \" reviews)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.feedbackSummary.feedbacks);\n  }\n}\nfunction EventDetailComponent_div_3_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71)(1, \"p\");\n    i0.ɵɵtext(2, \"No feedback yet. Be the first to leave a review!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventDetailComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"div\", 10)(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 12);\n    i0.ɵɵtemplate(8, EventDetailComponent_div_3_button_8_Template, 2, 0, \"button\", 13)(9, EventDetailComponent_div_3_button_9_Template, 2, 0, \"button\", 14)(10, EventDetailComponent_div_3_button_10_Template, 2, 0, \"button\", 15);\n    i0.ɵɵelementStart(11, \"button\", 7);\n    i0.ɵɵtext(12, \" Back to Events \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 16)(14, \"div\", 17);\n    i0.ɵɵtemplate(15, EventDetailComponent_div_3_div_15_Template, 5, 1, \"div\", 18);\n    i0.ɵɵelementStart(16, \"div\", 19)(17, \"div\", 20)(18, \"h4\");\n    i0.ɵɵtext(19, \"\\uD83D\\uDCC5 Event Dates\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 21)(21, \"p\")(22, \"strong\");\n    i0.ɵɵtext(23, \"Start:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n    i0.ɵɵtext(27, \"End:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 20)(30, \"h4\");\n    i0.ɵɵtext(31, \"\\uD83D\\uDCCD Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 21)(33, \"p\")(34, \"strong\");\n    i0.ɵɵtext(35, \"Venue:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"p\")(38, \"strong\");\n    i0.ɵɵtext(39, \"Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(41, \"div\", 20)(42, \"h4\");\n    i0.ɵɵtext(43, \"\\uD83D\\uDC64 Organizer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 21)(45, \"p\");\n    i0.ɵɵtext(46);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(47, \"div\", 22)(48, \"div\", 23)(49, \"h3\");\n    i0.ɵɵtext(50, \"Event Feedback\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(51, EventDetailComponent_div_3_button_51_Template, 2, 0, \"button\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(52, EventDetailComponent_div_3_div_52_Template, 33, 12, \"div\", 25)(53, EventDetailComponent_div_3_div_53_Template, 12, 7, \"div\", 26)(54, EventDetailComponent_div_3_div_54_Template, 3, 0, \"div\", 27);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.event.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"#\", ctx_r0.event.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canBookTicket());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canEditEvent());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canDeleteEvent());\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.event.description);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formatDate(ctx_r0.event.startDate), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.formatDate(ctx_r0.event.endDate), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.event.location.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.event.location.address, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.event.organizerName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canLeaveFeedback() && !ctx_r0.showFeedbackForm);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showFeedbackForm);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.feedbackSummary && ctx_r0.feedbackSummary.totalFeedbacks > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.feedbackSummary && ctx_r0.feedbackSummary.totalFeedbacks === 0);\n  }\n}\nexport let EventDetailComponent = /*#__PURE__*/(() => {\n  class EventDetailComponent {\n    constructor(route, router, eventService, feedbackService, authService, formBuilder) {\n      this.route = route;\n      this.router = router;\n      this.eventService = eventService;\n      this.feedbackService = feedbackService;\n      this.authService = authService;\n      this.formBuilder = formBuilder;\n      this.event = null;\n      this.feedbackSummary = null;\n      this.isLoading = true;\n      this.errorMessage = '';\n      this.successMessage = '';\n      this.showFeedbackForm = false;\n      this.isSubmittingFeedback = false;\n      this.currentUserRole = null;\n      this.feedbackForm = this.formBuilder.group({\n        rating: ['', [Validators.required, Validators.min(1), Validators.max(5)]],\n        comment: ['', [Validators.maxLength(500)]]\n      });\n    }\n    ngOnInit() {\n      this.currentUserRole = this.authService.getCurrentUser()?.role || null;\n      this.route.params.subscribe(params => {\n        const eventId = +params['id'];\n        if (eventId) {\n          this.loadEvent(eventId);\n          this.loadFeedback(eventId);\n        }\n      });\n    }\n    loadEvent(eventId) {\n      this.eventService.getEventById(eventId).subscribe({\n        next: event => {\n          this.event = event;\n          this.isLoading = false;\n        },\n        error: error => {\n          this.errorMessage = 'Failed to load event details. Please try again.';\n          this.isLoading = false;\n          console.error('Error loading event:', error);\n        }\n      });\n    }\n    loadFeedback(eventId) {\n      this.feedbackService.getEventFeedback(eventId).subscribe({\n        next: summary => {\n          this.feedbackSummary = summary;\n        },\n        error: error => {\n          console.error('Error loading feedback:', error);\n        }\n      });\n    }\n    bookTicket() {\n      if (this.event) {\n        this.router.navigate(['/events', this.event.id, 'book']);\n      }\n    }\n    editEvent() {\n      if (this.event) {\n        this.router.navigate(['/events', this.event.id, 'edit']);\n      }\n    }\n    deleteEvent() {\n      if (this.event && confirm('Are you sure you want to delete this event?')) {\n        this.eventService.deleteEvent(this.event.id).subscribe({\n          next: () => {\n            this.router.navigate(['/events']);\n          },\n          error: error => {\n            this.errorMessage = 'Failed to delete event. Please try again.';\n            console.error('Error deleting event:', error);\n          }\n        });\n      }\n    }\n    toggleFeedbackForm() {\n      this.showFeedbackForm = !this.showFeedbackForm;\n      if (!this.showFeedbackForm) {\n        this.feedbackForm.reset();\n        this.successMessage = '';\n        this.errorMessage = '';\n      }\n    }\n    submitFeedback() {\n      if (this.feedbackForm.valid && this.event) {\n        this.isSubmittingFeedback = true;\n        this.errorMessage = '';\n        const feedbackData = {\n          eventId: this.event.id,\n          ticketId: 1,\n          rating: +this.feedbackForm.value.rating,\n          comment: this.feedbackForm.value.comment\n        };\n        this.feedbackService.createFeedback(feedbackData).subscribe({\n          next: response => {\n            this.isSubmittingFeedback = false;\n            this.successMessage = 'Feedback submitted successfully!';\n            this.feedbackForm.reset();\n            this.showFeedbackForm = false;\n            this.loadFeedback(this.event.id); // Reload feedback\n          },\n          error: error => {\n            this.isSubmittingFeedback = false;\n            this.errorMessage = error.error?.message || 'Failed to submit feedback. Please try again.';\n            console.error('Error submitting feedback:', error);\n          }\n        });\n      } else {\n        this.markFormGroupTouched();\n      }\n    }\n    markFormGroupTouched() {\n      Object.keys(this.feedbackForm.controls).forEach(key => {\n        const control = this.feedbackForm.get(key);\n        control?.markAsTouched();\n      });\n    }\n    canEditEvent() {\n      return this.authService.hasAnyRole([UserRole.SuperAdmin, UserRole.Admin, UserRole.Organizer]);\n    }\n    canDeleteEvent() {\n      return this.authService.hasAnyRole([UserRole.SuperAdmin, UserRole.Admin, UserRole.Organizer]);\n    }\n    canBookTicket() {\n      return this.authService.hasRole(UserRole.RegisteredUser);\n    }\n    canLeaveFeedback() {\n      return this.authService.hasRole(UserRole.RegisteredUser);\n    }\n    formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    getStarArray(rating) {\n      return Array(5).fill(0).map((_, i) => i + 1);\n    }\n    get rating() {\n      return this.feedbackForm.get('rating');\n    }\n    get comment() {\n      return this.feedbackForm.get('comment');\n    }\n    static {\n      this.ɵfac = function EventDetailComponent_Factory(t) {\n        return new (t || EventDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.EventService), i0.ɵɵdirectiveInject(i3.FeedbackService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.FormBuilder));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EventDetailComponent,\n        selectors: [[\"app-event-detail\"]],\n        decls: 4,\n        vars: 3,\n        consts: [[1, \"event-detail-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"event-detail\", 4, \"ngIf\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error-message\"], [\"routerLink\", \"/events\", 1, \"btn-secondary\"], [1, \"event-detail\"], [1, \"event-header\"], [1, \"event-title-section\"], [1, \"event-id\"], [1, \"event-actions\"], [\"class\", \"btn-success\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-warning\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"event-content\"], [1, \"event-main-info\"], [\"class\", \"event-description\", 4, \"ngIf\"], [1, \"event-details-grid\"], [1, \"detail-card\"], [1, \"detail-content\"], [1, \"feedback-section\"], [1, \"feedback-header\"], [\"class\", \"btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"feedback-form-container\", 4, \"ngIf\"], [\"class\", \"feedback-summary\", 4, \"ngIf\"], [\"class\", \"no-feedback\", 4, \"ngIf\"], [1, \"btn-success\", 3, \"click\"], [1, \"btn-warning\", 3, \"click\"], [1, \"btn-danger\", 3, \"click\"], [1, \"event-description\"], [1, \"btn-primary\", 3, \"click\"], [1, \"feedback-form-container\"], [1, \"feedback-form\", 3, \"ngSubmit\", \"formGroup\"], [1, \"form-group\"], [\"for\", \"rating\"], [\"id\", \"rating\", \"formControlName\", \"rating\", 1, \"form-control\"], [\"value\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"value\", \"4\"], [\"value\", \"5\"], [\"for\", \"comment\"], [\"id\", \"comment\", \"formControlName\", \"comment\", \"rows\", \"4\", \"placeholder\", \"Share your experience...\", 1, \"form-control\"], [\"class\", \"success-message\", 4, \"ngIf\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"class\", \"spinner\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [4, \"ngIf\"], [1, \"success-message\"], [1, \"feedback-summary\"], [1, \"rating-overview\"], [1, \"average-rating\"], [1, \"rating-number\"], [1, \"stars\"], [\"class\", \"star\", 3, \"filled\", 4, \"ngFor\", \"ngForOf\"], [1, \"total-reviews\"], [1, \"feedback-list\"], [\"class\", \"feedback-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"star\"], [1, \"feedback-item\"], [1, \"feedback-header-item\"], [1, \"user-info\"], [\"class\", \"star small\", 3, \"filled\", 4, \"ngFor\", \"ngForOf\"], [1, \"feedback-date\"], [\"class\", \"feedback-comment\", 4, \"ngIf\"], [1, \"star\", \"small\"], [1, \"feedback-comment\"], [1, \"no-feedback\"]],\n        template: function EventDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtemplate(1, EventDetailComponent_div_1_Template, 4, 0, \"div\", 1)(2, EventDetailComponent_div_2_Template, 4, 1, \"div\", 2)(3, EventDetailComponent_div_3_Template, 55, 15, \"div\", 3);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage && !ctx.event);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.event && !ctx.isLoading);\n          }\n        },\n        dependencies: [i6.NgForOf, i6.NgIf, i1.RouterLink, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.DecimalPipe],\n        styles: [\".event-detail-container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e1e5e9;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.error-message[_ngcontent-%COMP%]{background-color:#fdf2f2;color:#e74c3c;padding:20px;border-radius:8px;border:1px solid #f5c6cb;text-align:center;margin-bottom:20px}.event-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.event-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:30px;display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:20px}.event-title-section[_ngcontent-%COMP%]{flex:1;min-width:300px}.event-title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;font-size:28px;font-weight:600}.event-id[_ngcontent-%COMP%]{background:#fff3;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.event-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.event-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap}.event-content[_ngcontent-%COMP%]{padding:30px}.event-main-info[_ngcontent-%COMP%]{margin-bottom:40px}.event-description[_ngcontent-%COMP%]{margin-bottom:30px}.event-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:20px}.event-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;line-height:1.6;font-size:16px}.event-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.detail-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;border-left:4px solid #667eea}.detail-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin:0 0 15px;font-size:16px;font-weight:600}.detail-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:5px 0;line-height:1.5}.detail-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-right:8px}.feedback-section[_ngcontent-%COMP%]{border-top:2px solid #e1e5e9;padding-top:30px}.feedback-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.feedback-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0;font-size:22px}.feedback-form-container[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:25px;margin-bottom:30px}.feedback-form[_ngcontent-%COMP%]{max-width:600px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;margin-top:20px}.feedback-summary[_ngcontent-%COMP%]{margin-top:30px}.rating-overview[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;margin-bottom:25px;text-align:center}.average-rating[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px;flex-wrap:wrap}.rating-number[_ngcontent-%COMP%]{font-size:36px;font-weight:600;color:#333}.stars[_ngcontent-%COMP%]{display:flex;gap:2px}.star[_ngcontent-%COMP%]{font-size:24px;color:#ddd;transition:color .2s ease}.star.small[_ngcontent-%COMP%]{font-size:16px}.star.filled[_ngcontent-%COMP%]{color:#ffc107}.total-reviews[_ngcontent-%COMP%]{color:#666;font-size:14px}.feedback-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.feedback-item[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a}.feedback-header-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px;flex-wrap:wrap;gap:10px}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.user-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.feedback-date[_ngcontent-%COMP%]{color:#666;font-size:14px}.feedback-comment[_ngcontent-%COMP%]{color:#666;line-height:1.5;margin:0}.no-feedback[_ngcontent-%COMP%]{text-align:center;color:#666;padding:40px 20px;background:#f8f9fa;border-radius:8px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;display:inline-block;margin-right:8px}@media (max-width: 768px){.event-detail-container[_ngcontent-%COMP%]{padding:15px}.event-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.event-title-section[_ngcontent-%COMP%]{min-width:auto}.event-actions[_ngcontent-%COMP%]{justify-content:center}.event-content[_ngcontent-%COMP%]{padding:20px}.event-details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.feedback-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.average-rating[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.feedback-header-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}\"]\n      });\n    }\n  }\n  return EventDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}