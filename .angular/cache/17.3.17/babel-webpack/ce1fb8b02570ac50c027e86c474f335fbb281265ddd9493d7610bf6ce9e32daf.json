{"ast":null,"code":"import { UserRole } from '../../../models/user.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/event.service\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction EventListComponent_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵtext(1, \" Create New Event \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventListComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading events...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction EventListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h3\");\n    i0.ɵɵtext(2, \"No events found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"There are currently no events available.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventListComponent_div_8_div_1_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const event_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", event_r3.description, \" \");\n  }\n}\nfunction EventListComponent_div_8_div_1_button_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function EventListComponent_div_8_div_1_button_37_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const event_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.bookTicket(event_r3.id));\n    });\n    i0.ɵɵtext(1, \" Book Ticket \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventListComponent_div_8_div_1_button_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function EventListComponent_div_8_div_1_button_38_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const event_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.editEvent(event_r3.id));\n    });\n    i0.ɵɵtext(1, \" Edit \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventListComponent_div_8_div_1_button_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function EventListComponent_div_8_div_1_button_39_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const event_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.deleteEvent(event_r3.id));\n    });\n    i0.ɵɵtext(1, \" Delete \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EventListComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 17);\n    i0.ɵɵtemplate(7, EventListComponent_div_8_div_1_p_7_Template, 2, 1, \"p\", 18);\n    i0.ɵɵelementStart(8, \"div\", 19)(9, \"div\", 20)(10, \"span\", 21);\n    i0.ɵɵtext(11, \"Start:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 22);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 20)(15, \"span\", 21);\n    i0.ɵɵtext(16, \"End:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 22);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 20)(20, \"span\", 21);\n    i0.ɵɵtext(21, \"Location:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"span\", 22);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 20)(25, \"span\", 21);\n    i0.ɵɵtext(26, \"Address:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"span\", 22);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 20)(30, \"span\", 21);\n    i0.ɵɵtext(31, \"Organizer:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"span\", 22);\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(34, \"div\", 23)(35, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function EventListComponent_div_8_div_1_Template_button_click_35_listener() {\n      const event_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r0 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r0.viewEvent(event_r3.id));\n    });\n    i0.ɵɵtext(36, \" View Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(37, EventListComponent_div_8_div_1_button_37_Template, 2, 0, \"button\", 25)(38, EventListComponent_div_8_div_1_button_38_Template, 2, 0, \"button\", 26)(39, EventListComponent_div_8_div_1_button_39_Template, 2, 0, \"button\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"#\", event_r3.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", event_r3.description);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.formatDate(event_r3.startDate));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.formatDate(event_r3.endDate));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(event_r3.location.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(event_r3.location.address);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(event_r3.organizerName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canBookTicket());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canEditEvent());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canDeleteEvent());\n  }\n}\nfunction EventListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, EventListComponent_div_8_div_1_Template, 40, 11, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.events);\n  }\n}\nexport let EventListComponent = /*#__PURE__*/(() => {\n  class EventListComponent {\n    constructor(eventService, authService, router) {\n      this.eventService = eventService;\n      this.authService = authService;\n      this.router = router;\n      this.events = [];\n      this.isLoading = true;\n      this.errorMessage = '';\n      this.currentUserRole = null;\n    }\n    ngOnInit() {\n      this.currentUserRole = this.authService.getCurrentUser()?.role || null;\n      this.loadEvents();\n    }\n    loadEvents() {\n      this.isLoading = true;\n      this.eventService.getEvents().subscribe({\n        next: events => {\n          this.events = events;\n          this.isLoading = false;\n        },\n        error: error => {\n          this.errorMessage = 'Failed to load events. Please try again.';\n          this.isLoading = false;\n          console.error('Error loading events:', error);\n        }\n      });\n    }\n    viewEvent(eventId) {\n      this.router.navigate(['/events', eventId]);\n    }\n    editEvent(eventId) {\n      this.router.navigate(['/events', eventId, 'edit']);\n    }\n    deleteEvent(eventId) {\n      if (confirm('Are you sure you want to delete this event?')) {\n        this.eventService.deleteEvent(eventId).subscribe({\n          next: () => {\n            this.loadEvents(); // Reload the list\n          },\n          error: error => {\n            this.errorMessage = 'Failed to delete event. Please try again.';\n            console.error('Error deleting event:', error);\n          }\n        });\n      }\n    }\n    bookTicket(eventId) {\n      this.router.navigate(['/events', eventId, 'book']);\n    }\n    canEditEvent() {\n      return this.authService.hasAnyRole([UserRole.SuperAdmin, UserRole.Admin, UserRole.Organizer]);\n    }\n    canDeleteEvent() {\n      return this.authService.hasAnyRole([UserRole.SuperAdmin, UserRole.Admin, UserRole.Organizer]);\n    }\n    canBookTicket() {\n      return this.authService.hasRole(UserRole.RegisteredUser);\n    }\n    formatDate(dateString) {\n      return new Date(dateString).toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    }\n    static {\n      this.ɵfac = function EventListComponent_Factory(t) {\n        return new (t || EventListComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EventListComponent,\n        selectors: [[\"app-event-list\"]],\n        decls: 9,\n        vars: 5,\n        consts: [[1, \"event-list-container\"], [1, \"header\"], [\"class\", \"btn-primary\", \"routerLink\", \"/events/create\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"no-events\", 4, \"ngIf\"], [\"class\", \"events-grid\", 4, \"ngIf\"], [\"routerLink\", \"/events/create\", 1, \"btn-primary\"], [1, \"loading\"], [1, \"spinner\"], [1, \"error-message\"], [1, \"no-events\"], [1, \"events-grid\"], [\"class\", \"event-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"event-card\"], [1, \"event-header\"], [1, \"event-id\"], [1, \"event-details\"], [\"class\", \"description\", 4, \"ngIf\"], [1, \"event-info\"], [1, \"info-item\"], [1, \"label\"], [1, \"value\"], [1, \"event-actions\"], [1, \"btn-secondary\", 3, \"click\"], [\"class\", \"btn-success\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-warning\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn-danger\", 3, \"click\", 4, \"ngIf\"], [1, \"description\"], [1, \"btn-success\", 3, \"click\"], [1, \"btn-warning\", 3, \"click\"], [1, \"btn-danger\", 3, \"click\"]],\n        template: function EventListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n            i0.ɵɵtext(3, \"Events\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(4, EventListComponent_button_4_Template, 2, 0, \"button\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(5, EventListComponent_div_5_Template, 4, 0, \"div\", 3)(6, EventListComponent_div_6_Template, 2, 1, \"div\", 4)(7, EventListComponent_div_7_Template, 5, 0, \"div\", 5)(8, EventListComponent_div_8_Template, 2, 1, \"div\", 6);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", ctx.canEditEvent());\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.events.length === 0 && !ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.events.length > 0);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i3.RouterLink],\n        styles: [\".event-list-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;padding-bottom:20px;border-bottom:2px solid #e1e5e9}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin:0}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #e1e5e9;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:16px}.error-message[_ngcontent-%COMP%]{background-color:#fdf2f2;color:#e74c3c;padding:15px;border-radius:8px;border:1px solid #f5c6cb;text-align:center;margin-bottom:20px}.no-events[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.no-events[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:10px}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:24px}.event-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;padding:24px;transition:transform .2s ease,box-shadow .2s ease}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 20px #00000026}.event-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.event-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 10px 0 0;font-size:20px;font-weight:600;flex:1}.event-id[_ngcontent-%COMP%]{background:#f8f9fa;color:#666;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.event-details[_ngcontent-%COMP%]{margin-bottom:20px}.description[_ngcontent-%COMP%]{color:#666;line-height:1.5;margin-bottom:16px}.event-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#333;min-width:80px;margin-right:8px}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#666;flex:1}.event-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-block;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a6fd8}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background:#5a6268}.btn-success[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#218838}.btn-warning[_ngcontent-%COMP%]{background:#ffc107;color:#212529}.btn-warning[_ngcontent-%COMP%]:hover{background:#e0a800}.btn-danger[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c82333}@media (max-width: 768px){.events-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:stretch}.event-actions[_ngcontent-%COMP%]{justify-content:center}}\"]\n      });\n    }\n  }\n  return EventListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}